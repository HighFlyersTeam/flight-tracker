<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <!-- Local Files -->
        <link href="../static/style.css" rel="stylesheet"/>
        <link href="../static/help_style.css" rel="stylesheet"/>
        <script type="module" src="../static/map_script.js"></script>
        <script type="text/javascript" src="../static/filter_script.js"></script>
        <script type="text/javascript" src="../static/help_script.js"></script>
        
        <!-- Google Maps -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" 
            integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    </head>
    <body>
        <!-- Header -->
        <header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom">
            <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none">
                <svg class="bi me-2" width="20" height="30">
                    <use xlink:href="#bootstrap"></use>
                </svg>
                <span class="fs-4">Flight Tracker</span>
            </a>
            
            <!-- Hotbar Content -->
            <div class="container">
                <div class="row g-3 align-items-center">
                    <!-- Departure Date -->
                    <div class="col-md-2">
                        <label for="departure-date" class="form-label">Departure Date</label>
                        <input type="date" id="departure-date" name="departure-date" class="form-control">
                    </div>
                    <!-- Arrival Date -->
                    <div class="col-md-2">
                        <label for="return-date" class="form-label">Arrival Date</label>
                        <input type="date" id="return-date" name="return-date" class="form-control">
                    </div>
                    <!-- Departure Airport -->
                    <div class="col-md-2">
                        <label for="departure-airport" class="form-label">Departure Airport</label>
                        <select class="form-select" id="departure-airport" required>
                            <option value="">Choose...</option>
                            <option>EWR</option>
                            <option>LAX</option>
                            <option>PVG</option>
                        </select>
                    </div>
                    <!-- Arrival Airport -->
                    <div class="col-md-2">
                        <label for="arrival-airport" class="form-label">Arrival Airport</label>
                        <select class="form-select" id="arrival-airport" required>
                            <option value="">Choose...</option>
                            <option>EWR</option>
                            <option>LAX</option>
                            <option>PVG</option>
                        </select>
                    </div>
                    <!-- Buttons -->
                    <div class="col-md-4">
                        <div class="row g-3">
                            <!-- Search Flights -->
                            <div class="col-md-4">
                                <button id="search-flights" class="btn btn-primary">Search Flights</button>
                            </div>
                            <!-- More Filters -->
                            <div class="col-md-4">
                                <button id="filter-window" class="btn btn-secondary" 
                                onclick="toggleFilterWindow()">More Filters</button>
                            </div>
                            <!-- Help -->
                            <div class="col-md-4">
                                <button id="help-window" class="btn btn-toolbar" 
                                onclick="toggleHelpWindow()">Help</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <main>
            <div id="map">
                <script
                        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBo47MXllMAmuhYtlXdjjXaWEpot8A4_CY&callback=initMap&v=weekly"
                        defer
                ></script>
            </div>
        </main>
        
        <!-- Bootstrap Bundle with Popper -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" 
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
        
        <title>High Flyers</title>
    </body>
    <div class="site">
        <!-- Map -->
        <div id="map_wrapper">
            <!-- Filter Window -->
            <div id="filter_content">
                <div class="filter_title">FILTER</div>
                
                <div class="filter_item" id="earliest_start_time">
                    <label for="earliest_start_time_components">Earliest Start Time:</label>
                    <div class="filter_components" id="earliest_start_time_components">
                        <input type="date" id="start_date" name="start_date" min="2018-01-01" max="2018-12-31" required>
                        <input type="time" id="start_time" name="start_time" min="09:00" max="18:00" required>
                    </div>
                </div>
                
                <div class="filter_item" id="latest_end_time">
                    <label for="latest_end_time_components">Latest End Time:</label>
                    <div class="filter_components" id="latest_end_time_components">
                        <input type="date" id="end_date" name="end_date" min="2018-01-01" max="2018-12-31" required>
                        <input type="time" id="end_time" name="end_time" min="09:00" max="18:00" required>
                    </div>
                </div>
                
                <div class="filter_item" id="day_of_week">
                    <label for="day_of_week_components">Day of Week:</label>
                    <div class="filter_components" id="day_of_week_components">
                        <button type="button" id="sunday_button" class="day_of_week_button active">Su</button>
                        <div class="spacer"></div>
                        <button type="button" id="monday_button" class="day_of_week_button active">Mo</button>
                        <div class="spacer"></div>
                        <button type="button" id="tuesday_button" class="day_of_week_button active">Tu</button>
                        <div class="spacer"></div>
                        <button type="button" id="wednesday_button" class="day_of_week_button active">We</button>
                        <div class="spacer"></div>
                        <button type="button" id="thursday_button" class="day_of_week_button active">Th</button>
                        <div class="spacer"></div>
                        <button type="button" id="friday_button" class="day_of_week_button active">Fr</button>
                        <div class="spacer"></div>
                        <button type="button" id="saturday_button" class="day_of_week_button active">Sa</button>
                    </div>
                </div>
                
                <div class="filter_item" id="start_location">
                    <label for="start_filter">
                        Start Location:
                        <select name="start_filter" data-target="#start_components" class="filter_label" id="start_filter">
                            <option value="airport" data-show="#airport_start_info">Airport</option>
                            <option value="country" data-show="#country_start_info">Country</option>
                            <option value="continent" data-show="#continent_start_info">Continent</option>
                        </select>
                    </label>
                    
                    <div class="filter_components" id="start_components">
                        <select multiple name="airport_start_info" class="info hide" id="airport_start_info">
                            <option value="HKG">HKG: Hong Kong International Airport</option>
                            <option value="JFK">JFK: John F. Kennedy International Airport</option>
                            <option value="LHR">LHR: Heathrow Airport</option>
                        </select>
                        
                        <select multiple name="country_start_info" class="info hide" id="country_start_info">
                            <option value="US">United States of America</option>
                            <option value="CN">China</option>
                            <option value="UK">United Kingdom</option>
                        </select>
                        
                        <select multiple name="continent_start_info" class="info hide" id="continent_start_info">
                            <option value="NA">North America</option>
                            <option value="SA">South America</option>
                            <option value="EU">Europe</option>
                            <option value="AF">Africa</option>
                            <option value="AS">Asia</option>
                            <option value="AU">Australia</option>
                            <option value="AN">Antarctica</option>
                        </select>
                    </div>
                </div>
                
                <div class="filter_item" id="end_location">
                    <label for="end_filter">
                        End Location:
                        <select name="end_filter" data-target="#end_components" class="filter_label" id="end_filter">
                            <option value="airport" data-show="#airport_end_info">Airport</option>
                            <option value="country" data-show="#country_end_info">Country</option>
                            <option value="continent" data-show="#continent_end_info">Continent</option>
                        </select>
                    </label>
                    
                    <div class="filter_components" id="end_components">
                        <select multiple name="airport_end_info" class="info hide" id="airport_end_info">
                            <option value="HKG">HKG: Hong Kong International Airport</option>
                            <option value="JFK">JFK: John F. Kennedy International Airport</option>
                            <option value="LHR">LHR: Heathrow Airport</option>
                        </select>
                        
                        <select multiple name="country_end_info" class="info hide" id="country_end_info">
                            <option value="US">United States of America</option>
                            <option value="CN">China</option>
                            <option value="UK">United Kingdom</option>
                        </select>
                        
                        <select multiple name="continent_end_info" class="info hide" id="continent_end_info">
                            <option value="NA">North America</option>
                            <option value="SA">South America</option>
                            <option value="EU">Europe</option>
                            <option value="AF">Africa</option>
                            <option value="AS">Asia</option>
                            <option value="AU">Australia</option>
                            <option value="AN">Antarctica</option>
                        </select>
                    </div>
                </div>
                
                <div class="filter_item" id="number_of_layovers">
                    <label for="max_layovers_components">Max Layovers:</label>
                    <div class="filter_components" id="max_layovers_components">
                        <input type="number" id="max_layovers" name="max_layovers" value="0" min="0" max="3">
                    </div>
                </div>
                
                <div class="filter_item" id="airline_company">
                    <label for="airline_company_components">Airlines:</label>
                    <div class="filter_components" id="airline_company_components">
                        <select multiple name="airline_companies" class="info" id="airline_companies">
                            <option value="DL">Delta Airlines</option>
                            <option value="AA">American Airlines</option>
                            <option value="UPS">UPS</option>
                        </select>
                    </div>
                </div>
                
                <div class="filter_item" id="airline_type">
                    <label for="airline_type_components">Type of Airline:</label>
                    <div class="filter_components" id="airline_type_components">
                        <button type="button" class="airline_type_button" id="cargo_button">Cargo</button>
                        <button type="button" class="airline_type_button" id="passenger_button">Passenger</button>
                    </div>
                </div>
                
                <div class="filter_title" id="advanced_controls">ADVANCED</div>
                
                <div class="filter_item" id="added_removed_buttons">
                    <div class="filter_components" id="added_removed_buttons_components">
                        <button type="button" id="find_added_flights_button" class="advanced_controls_button">
                            Find Added Flights
                        </button>
                        <button type="button" id="find_removed_flights_button" class="advanced_controls_button">
                            Find Removed Flights
                        </button>
                    </div>
                </div>
                
                <div class="filter_item" id="secondary_start_time">
                    <label for="secondary_start_time_components">Start Time:</label>
                    <div class="filter_components" id="secondary_start_time_components">
                        <input type="date" id="start_date2" name="start_date2" min="2018-01-01"
                               max="2018-12-31" required>
                        <input type="time" id="start_time2" name="start_time2" min="09:00" max="18:00"
                               required>
                    </div>
                </div>
                
                <div class="filter_item" id="secondary_end_time">
                    <label for="secondary_end_time_components">End Time:</label>
                    <div class="filter_components" id="secondary_end_time_components">
                        <input type="date" id="end_date2" name="end_date2" min="2018-01-01"
                               max="2018-12-31" required>
                        <input type="time" id="end_time2" name="end_time2" min="09:00" max="18:00"
                               required>
                    </div>
                </div>
                
                <div class="filter_controls">
                    <button type="button" id="clear_filter" class="filter_control_button">Clear Filters</button>
                    <button type="button" id="find_routes_filter" class="filter_control_button"
                            onclick="location.href = 'http://127.0.0.1:5000/form';">Find Routes</button>
                    <button type="button" id="cancel_filter" class="filter_control_button">Cancel</button>
                </div>
            </div>
            
            <!-- Help Window -->
            <div id="help_content">
                <div class="help_title">HELP</div>
                <div class="help_body">
                    <img src="Logo.png" alt="Logo" class="help_image">
                    <p>Welcome to <strong>Flight Tracker</strong>, a visualizer for all available and past flights!</p>
                    <p>
                        To find flights, fill in the respective information at the top:
                    <ul>
                        <li><strong>Start Date:</strong> The earliest starting date of the desired route(s).</li>
                        <li><strong>End Date:</strong> The latest ending date of the desired route(s)</li>
                        <br>
                        <li><strong>Departure:</strong> The departure airport of the desired route(s).</li>
                        <li><strong>Destination:</strong> The arrival airport of the desired route(s).</li>
                    </ul>
                    After filling in the information, select <strong>Find Route</strong> to filter and visualize
                    flight paths that match the given criteria.
                    </p>
                    <p>
                        For more filtering options, select <strong>Filter</strong> at the top right to open up the
                        filter window. The additional options are as follows:
                    <ul>
                        <li><strong>Day of Week:</strong> The day(s) of the week for the flights to occur on.</li>
                        <li>
                            <strong>Start Location:</strong> The starting location of the route (can be filtered
                            via <strong>airport</strong>, <strong>country</strong>, or <strong>continent</strong>).
                        </li>
                        <li>
                            <strong>End Location:</strong> The ending location of the route (can be filtered
                            via <strong>airport</strong>, <strong>country</strong>, or <strong>continent</strong>).
                        </li>
                        <li><strong>Max Layovers:</strong> The maximum number of layovers for a single route.</li>
                        <li><strong>Airlines:</strong> The airline(s) that the flights withina route can be operated by.</li>
                        <li><strong>Type of Airline:</strong> The possibles type(s) of airline that the flights are operated by.</li>
                        <br>
                        <li>
                            <strong>Find Added Flights:</strong> Find flights that were added between the original timeframe and the new
                            timeframe. The new timeframe cannot overlap the original timeframe.
                        </li>
                        <li>
                            <strong>Find Removed Flights:</strong> Find flights that were removed between the original timeframe and the new
                            timeframe. The new timeframe cannot overlap the original timeframe.
                        </li>
                    </ul>
                    Once you are finished, select <strong>Confirm</strong> to apply the filters and
                    <strong>Cancel</strong> to close the filter window without applying the filters.
                    <strong>Clear Filters</strong> will clear all filter information in the filter window.
                    </p>
                </div>
            </div>
        </div>
    </div>
</html>
