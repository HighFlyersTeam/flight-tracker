<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <!-- Local Files -->
        <link href="../static/style.css" rel="stylesheet"/>
        <link href="../static/help_style.css" rel="stylesheet"/>
        <script type="module" src="../static/map_script.js"></script>
        <script type="text/javascript" src="../static/filter_script.js"></script>
        <script type="text/javascript" src="../static/help_script.js"></script>
        
        <!-- Google Maps -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" 
            integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    </head>
    <body>
        <!-- Header -->
        <header class="d-flex align-items-center flex-wrap justify-content-center py-3">
                <svg class="bi me-2" width="20" height="30">
                    <use xlink:href="#bootstrap"></use>
                </svg>
                <span class="fs-4">Flight Tracker</span>
            
            <!-- Hotbar Content -->
            <div class="container">
                <div class="row g-3 align-items-center">
                    <!-- Departure Date -->
                    <div class="col-md-2">
                        <label for="departure-date" class="form-label">Departure Date</label>
                        <input type="date" id="departure-date" name="departure-date" class="form-control">
                    </div>
                    <!-- Arrival Date -->
                    <div class="col-md-2">
                        <label for="return-date" class="form-label">Arrival Date</label>
                        <input type="date" id="return-date" name="return-date" class="form-control">
                    </div>
                    <!-- Departure Airport -->
                    <div class="col-md-2">
                        <label for="departure-airport" class="form-label">Departure Airport</label>
                        <select class="form-select" id="departure-airport" required>
                            <option value="">Choose...</option>
                            <option>EWR</option>
                            <option>LAX</option>
                            <option>PVG</option>
                        </select>
                    </div>
                    <!-- Arrival Airport -->
                    <div class="col-md-2">
                        <label for="arrival-airport" class="form-label">Arrival Airport</label>
                        <select class="form-select" id="arrival-airport" required>
                            <option value="">Choose...</option>
                            <option>EWR</option>
                            <option>LAX</option>
                            <option>PVG</option>
                        </select>
                    </div>
                    <!-- Buttons -->
                    <div class="col-md-4">
                        <div class="row g-3">
                            <!-- Search Flights -->
                            <div class="col-md-4">
                                <button id="search-flights" class="btn btn-primary">Search Flights</button>
                            </div>
                            <!-- More Filters -->
                            <div class="col-md-4">
                                <button id="filter-window" class="btn btn-secondary" data-bs-toggle="offcanvas" data-bs-target="#filter-options"
                                    aria-controls="filter-options">
                                    More Filters
                                </button>
                            </div>
                            <!-- Help -->
                            <div class="col-md-4">
                                <button id="help-window" class="btn btn-toolbar" onclick="toggleHelpWindow()">Help</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Google Map -->
        <div id="map">
            <script
                    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBo47MXllMAmuhYtlXdjjXaWEpot8A4_CY&callback=initMap&v=weekly"
                    defer
            ></script>
        </div>
                
        <!-- Filter Offcanvas -->
        <div class="offcanvas offcanvas-end" tabindex="-1" id="filter-options" aria-labelledby="filter-options-label">
            <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="filter-options-label">Filter Flights</h5>
                <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
                <form id="filter-form">
                    <div class="row mb-3">
                        <!-- Departure Date and Time -->
                        <div class="col">
                            <label for="departure-date" class="form-label">Start Date and Time</label>
                            <input type="datetime-local" id="start-datetime" name="start-datetime" class="form-control">
                        </div>
                        <!-- Arrival Date and Time -->
                        <div class="col">
                            <label for="arrival-date" class="form-label">End Date and Time</label>
                            <input type="datetime-local" id="end-datetime" name="end-datetime" class="form-control">
                        </div>
                    </div>
                    <!-- Start Location -->
                    <strong>Start Location</strong>
                    <div class="row mb-3">
                        <div class="col-3">
                            <label for="start-location-type" class="form-label">Location Type</label>
                            <select class="form-select" id='start-location-type'>
                                <option value="airport">Airport</option>
                                <option value="country">Country</option>
                                <option value="continent">Continent</option>
                            </select>
                        </div>
                        <div class="col">
                            <label for="start-airport-select" class="form-label">Location Options</label>
                            <div id="start-airport-select" class="mb-3">
                                <select class="form-select" multiple>
                                    <option value="JFK">John F. Kennedy International Airport</option>
                                    <option value="LAX">Los Angeles International Airport</option>
                                    <option value="LHR">Heathrow Airport</option>
                                </select>
                            </div>
                            <div id="start-country-select" class="mb-3">
                                <select class="form-select" multiple>
                                    <option value="US">United States</option>
                                    <option value="GB">United Kingdom</option>
                                    <option value="FR">France</option>
                                </select>
                            </div>
                            <div id="start-continent-select" class="mb-3">
                                <select class="form-select" multiple>
                                    <option value="NA">North America</option>
                                    <option value="EU">Europe</option>
                                    <option value="AS">Asia</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <!-- End Location -->
                    <strong>End Location</strong>
                    <div class="row mb-3">
                        <div class="col-3">
                            <label for="end-location-type" class="form-label">Location Type</label>
                            <select class="form-select" id='end-location-type'>
                                <option value="airport">Airport</option>
                                <option value="country">Country</option>
                                <option value="continent">Continent</option>
                            </select>
                        </div>
                        <div class="col">
                            <label for="end-airport-select" class="form-label">Location Options</label>
                            <div id="end-airport-select" class="mb-3">
                                <select class="form-select" multiple>
                                    <option value="JFK">John F. Kennedy International Airport</option>
                                    <option value="LAX">Los Angeles International Airport</option>
                                    <option value="LHR">Heathrow Airport</option>
                                </select>
                            </div>
                            <div id="end-country-select" class="mb-3">
                                <select class="form-select" multiple>
                                    <option value="US">United States</option>
                                    <option value="GB">United Kingdom</option>
                                    <option value="FR">France</option>
                                </select>
                            </div>
                            <div id="end-continent-select" class="mb-3">
                                <select class="form-select" multiple>
                                    <option value="NA">North America</option>
                                    <option value="EU">Europe</option>
                                    <option value="AS">Asia</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <!-- Days of the Week -->
                        <div class="col">
                            <label for="days-of-week">Days of the Week</label>
                            <!--
                            <select class="form-select" id='days-of-week' multiple size="7">
                                <option value="monday">Monday</option>
                                <option value="tuesday">Tuesday</option>
                                <option value="wednesday">Wednesday</option>
                                <option value="thursday">Thursday</option>
                                <option value="friday">Friday</option>
                                <option value="saturday">Saturday</option>
                                <option value="sunday">Sunday</option>
                            </select>
                            -->
                            <div class="row g-0 row-cols-2">
                                <div class="form-check">
                                    <input type="checkbox" id="monday" name="days-of-week" value="Monday" class="form-check-input">
                                    <label for="monday" class="form-check-label">Monday</label>
                                </div>
                                <div class="form-check">
                                    <input type="checkbox" id="tuesday" name="days-of-week" value="Tuesday" class="form-check-input">
                                    <label for="tuesday" class="form-check-label">Tuesday</label>
                                </div>
                                <div class="form-check">
                                    <input type="checkbox" id="wednesday" name="days-of-week" value="Wednesday" class="form-check-input">
                                    <label for="wednesday" class="form-check-label">Wednesday</label>
                                </div>
                                <div class="form-check">
                                    <input type="checkbox" id="thursday" name="days-of-week" value="Thursday" class="form-check-input">
                                    <label for="thursday" class="form-check-label">Thursday</label>
                                </div>
                                <div class="form-check">
                                    <input type="checkbox" id="friday" name="days-of-week" value="Friday" class="form-check-input">
                                    <label for="friday" class="form-check-label">Friday</label>
                                </div>
                                <div class="form-check">
                                    <input type="checkbox" id="saturday" name="days-of-week" value="Saturday" class="form-check-input">
                                    <label for="saturday" class="form-check-label">Saturday</label>
                                </div>
                                <div class="form-check">
                                    <input type="checkbox" id="sunday" name="days-of-week" value="Sunday" class="form-check-input">
                                    <label for="sunday" class="form-check-label">Sunday</label>
                                </div>
                            </div>
                        </div>
                        <!-- Maximum Layovers -->
                        <div class="col">
                            <label for="layover-count" class="form-label">Maximum Layovers</label>
                            <input type="number" id="layovers" name="layovers" class="form-control" min="0" max="13" step="1" value="0">
                        </div>
                    </div>
                    <hr class="hr"/>
                    <!-- Advanced Filters Options-->
                    <div class="row mb-3 g-0">
                        <label for="advanced-filters-select" class="form-label">Advanced Options</label>
                        <select class="form-select" id="advanced-filters-select">
                            <option value="none">None</option>
                            <option value="find-added">Find Added Flights</option>
                            <option value="find-removed">Find Removed Flights</option>
                        </select>
                    </div>
                    <!-- Advanced Filters Details -->
                    <div class="row mb-3" id="advanced-filters">
                        <div class="row mb-3">
                            <!-- Departure Date and Time -->
                            <div class="col">
                                <label for="secondary-departure-date" class="form-label">Secondary Start</label>
                                <input type="datetime-local" id="secondary-start-date" name="secondary-start-date" class="form-control">
                            </div>
                            <!-- Arrival Date and Time -->
                            <div class="col">
                                <label for="secondary-arrival-date" class="form-label">Secondary End</label>
                                <input type="datetime-local" id="secondary-end-date" name="secondary-end-date" class="form-control">
                            </div>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <!-- Find Routes -->
                        <div class="col d-grid">
                            <button type="button" class="btn btn-primary" id="find-routes-button" 
                                data-bs-dismiss="offcanvas">Find Routes</button>
                            <script type="module">
                                import { displayFilteredFlights } from "../static/display_routes_script.js";
                                document.querySelector('#find-routes-button').addEventListener('click', displayFilteredFlights);
                            </script>
                        </div>
                        <!-- Clear Filters -->
                        <div class="col d-grid">
                            <button type="reset" class="btn btn-secondary">Clear Filters</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- Bootstrap Bundle with Popper -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" 
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
        
        <title>High Flyers</title>
    </body>
</html>
